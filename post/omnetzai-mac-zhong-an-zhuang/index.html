
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>OmNet++安装 | Gridea</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://sunzemin123.github.io/favicon.ico?v=1582663986434">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://sunzemin123.github.io/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://sunzemin123.github.io">
        <img class="avatar" src="https://sunzemin123.github.io/images/avatar.png?v=1582663986434" alt="" width="32px" height="32px">
      </a>
      <a href="https://sunzemin123.github.io">
        <h1 class="site-title">Gridea</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a class="menu purple-link" href="https://sunzemin123.github.io" class="menu" target="_blank">
            首页
          </a>
        
      
        
          <a href="https://sunzemin123.github.io/archives" class="menu purple-link">
            归档
          </a>
        
      
        
          <a href="https://sunzemin123.github.io/tags" class="menu purple-link">
            标签
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">OmNet++安装</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2019-08-17</span>
            
          </div>
          <div class="post-content">
            <h2 id="installation">Installation</h2>
<ul>
<li>$ cd /Users/sunzemin/omnetpp-5.5.1</li>
<li>$ . setenv</li>
<li>environment configuration：<br>
$ export PATH=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>O</mi><mi>M</mi><mi>E</mi><mi mathvariant="normal">/</mi><mi>o</mi><mi>m</mi><mi>n</mi><mi>e</mi><mi>t</mi><mi>p</mi><mi>p</mi><mo>−</mo><mn>5.5.1</mn><mi mathvariant="normal">/</mi><mi>b</mi><mi>i</mi><mi>n</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">HOME/omnetpp-5.5.1/bin:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">/</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">p</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mord">.</span><span class="mord">5</span><span class="mord">.</span><span class="mord">1</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span></span></span>HOME/omnetpp-5.5.1/tools/macosx/bin:$PATH</li>
</ul>
<p>$ export QT_PLUGIN_PATH=$HOME/omnetpp-5.5.1/tools/macosx/plugins<br>
(folder must be in your home directory)</p>
<ul>
<li>configuration: $ ./configure</li>
<li>compling: $ make</li>
<li>start DE $ omnetpp</li>
<li>$ make install-menu-item<br>
$ make install-desktop-icon</li>
</ul>
<h2 id="environment-variables-configuration">Environment variables configuration</h2>
<p>写在bash_profile中配置环境变量<br>
touch ~/.bash_profile<br>
open -e ~/.bash_profile<br>
export PATH=<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>H</mi><mi>O</mi><mi>M</mi><mi>E</mi><mi mathvariant="normal">/</mi><mi>o</mi><mi>m</mi><mi>n</mi><mi>e</mi><mi>t</mi><mi>p</mi><mi>p</mi><mo>−</mo><mn>5.5.1</mn><mi mathvariant="normal">/</mi><mi>b</mi><mi>i</mi><mi>n</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">HOME/omnetpp-5.5.1/bin:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">/</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">p</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mord">.</span><span class="mord">5</span><span class="mord">.</span><span class="mord">1</span><span class="mord">/</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span></span></span>HOME/omnetpp-5.5.1/tools/macosx/bin:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mi>A</mi><mi>T</mi><mi>H</mi><mi>e</mi><mi>x</mi><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>Q</mi><msub><mi>T</mi><mi>P</mi></msub><mi>L</mi><mi>U</mi><mi>G</mi><mi>I</mi><msub><mi>N</mi><mi>P</mi></msub><mi>A</mi><mi>T</mi><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">PATH
export QT_PLUGIN_PATH=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault">Q</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mord mathdefault">G</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span>HOME/omnetpp-5.5.1/tools/macosx/plugins</p>
<p>echo $PATH</p>
<h2 id="a-simple-example">A simple example:</h2>
<p><a href="https://blog.csdn.net/sinat_15102109/article/details/45751697">reference:</a></p>
<ul>
<li>
<h3 id="open-the-ied-from-the-terminal-with-the-script">Open the IED from the terminal with the script</h3>
</li>
</ul>
<p>When open the IDE from the finder, it is uable to run any simulation and receive the following error at startup.<br>
<img src="https://sunzemin123.github.io/post-images/1568229694810.jpg" alt="" loading="lazy"></p>
<p>It even worse when runing the simulation:<br>
<em>This application failed to start because it could not find or load the Qt platform plugin &quot;cocoa&quot; in &quot;&quot;.<br>
Reinstalling the application may fix this problem.</em></p>
<p><em>Simulation terminated with exit code: 134<br>
Working directory:/Users/sunzemin/Documents/OMNeTWorkspace/samples<br>
Command line: samples -m omnetpp.ini</em></p>
<p><em>Environment variables:<br>
PATH=/Users/sunzemin/omnetpp-5.5.1/bin::/usr/bin:/bin:/usr/sbin:/sbin<br>
DYLDLIBRARYPATH=/Users/sunzemin/omnetpp-5.5.1/lib::<br>
OMNETPPIMAGEPATH=/Users/sunzemin/omnetpp-5.5.1/images</em></p>
<!-- more -->
<p><strong>Solution:</strong><br>
<a href="https://stackoverflow.com/questions/53655070/omnet-ide-doesnt-run-simulation-macos">reference</a><br>
Start from the terminal with the command line:<br>
$ . setenv<br>
$ omnetpp<br>
<img src="https://sunzemin123.github.io/post-images/1568229766275.png" alt="" loading="lazy"><br>
Do not start the IDE from the Finder. The reason is that the IDE requires some environment variables that are set in the <em>. setenv</em> script and those are not present when it is started from Finder. Additionally, macOS quarantees all graphical apps that were downloaded from the internet (including the IDE). This means that when you start the .app file, you seem to be running it from the installation folder, but in fact macOS remaps it to a temporary volume with random name, which breaks the whole IDE as it cannot find the OMNET rood directory. This is worked around in the omnetpp scripts (in OMNETPP_ROOT/ide) but that is not executed if you start directly from the finder.</p>
<ul>
<li>
<h3 id="new-a-project">new a project</h3>
file--&gt;new--&gt;Omnet++project</li>
<li>
<h3 id="computercc">computer.cc</h3>
</li>
</ul>
<pre><code>#include &lt;string.h&gt;
#include &lt;omnetpp.h&gt;
using namespace omnetpp;
</code></pre>

          </div>
        </div>

        
      </div>

      

      <div class="site-footer">
  <div class="slogan">温故而知新</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://sunzemin123.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
